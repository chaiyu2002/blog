<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="Linux find命令用法详解"/>




  <meta name="keywords" content="Linux,linux,命令,大全,速查,手册,用法,详解,总结" />










  <link rel="alternate" href="/atom.xml" title="Linux命令速查">




  <link rel="shortcut icon" type="image/x-icon" href="/icon_ios7.png?v=2.6.0" />



<link rel="canonical" href="http://www.oxysun.cn/linux/daily-command-find.html"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />




  


  <script id="google_analytics">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-120983285-1', 'auto');
        ga('send', 'pageview');
  </script>


  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>








<!-- TODO 2018年05月28日12:35:38 解决了 photoswipe 找不到的问题  -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" rel="stylesheet">


    <title> Linux find命令用法详解 - Linux命令速查 </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Linux命令速查</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            归档
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Linux命令速查</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main" style="line-height: 180%;">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Linux find命令用法详解
        
      </h1>
      
      <div class="post-meta">
        <span class="post-author">
           作者: <a href="http://www.oxysun.cn/"> 荒于嬉 </a>
        </span>
        <span class="post-time">
           日期: 2018-06-08
        </span>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#命令格式"><span class="toc-text">命令格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#命令功能"><span class="toc-text">命令功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#命令选项"><span class="toc-text">命令选项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实用命令"><span class="toc-text">实用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第一部分：根据name或type查找文件"><span class="toc-text">第一部分：根据name或type查找文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第二部分：根据权限查找文件"><span class="toc-text">第二部分：根据权限查找文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第三部分：根据所有者和组查找文件"><span class="toc-text">第三部分：根据所有者和组查找文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第四部分：根据日期和时间查找"><span class="toc-text">第四部分：根据日期和时间查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第五部分：根据大小查找文件和目录"><span class="toc-text">第五部分：根据大小查找文件和目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第六部分：根据文件内容或路径查找"><span class="toc-text">第六部分：根据文件内容或路径查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第七部分：借助exec或ok选项来执行shell命令"><span class="toc-text">第七部分：借助exec或ok选项来执行shell命令</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <p>find命令根据指定的条件查找文件和目录。查找可用于多种条件，例如通过权限，用户，组，文件类型，日期，大小和其他可能的条件来查找文件。</p>
<a id="more"></a>
<h2 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h2><p><code>find pathname [options] [-print -exec -ok]</code></p>
<p>参数解释：<br>pathname：find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录。<br>-print：find命令将匹配的文件输出到标准输出。<br>-exec：find命令将匹配的文件执行该参数所给出的shell命令。相应的命令的形式为’command’ {} \;，注意{}和\;之间的空格。<br>-ok：和-exec的作用相同，但会以一种更加安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。</p>
<h2 id="命令功能"><a href="#命令功能" class="headerlink" title="命令功能"></a>命令功能</h2><p>find命令可以在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。</p>
<h2 id="命令选项"><a href="#命令选项" class="headerlink" title="命令选项"></a>命令选项</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">- -amin&lt;分钟&gt;：查找在指定时间曾被存取过的文件或目录，单位以分钟计算；</span><br><span class="line">- -anewer&lt;参考文件或目录&gt;：查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录；</span><br><span class="line">- -atime&lt;24小时数&gt;：查找在指定时间曾被存取过的文件或目录，单位以24小时计算；</span><br><span class="line">- -cmin&lt;分钟&gt;：查找在指定时间之时被更改过的文件或目录；</span><br><span class="line">- -cnewer&lt;参考文件或目录&gt;查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；</span><br><span class="line">- -ctime&lt;24小时数&gt;：查找在指定时间之时被更改的文件或目录，单位以24小时计算；</span><br><span class="line">- -daystart：从本日开始计算时间；</span><br><span class="line">- -depth：从指定目录下最深层的子目录开始查找；</span><br><span class="line">- -delete：删除文件，默认实现了depth选项。注意不要将delete放在find条件语句之前，不然有可能在执行查找之前，将该目录下的所有文件删除。</span><br><span class="line">- -expty：寻找文件大小为0 Byte的文件，或目录下没有任何子目录或文件的空目录；</span><br><span class="line">- -exec&lt;执行指令&gt;：假设find指令的回传值为True，就执行该指令；执行指令将为每一个匹配的文件执行一次。</span><br><span class="line">- -false：将find指令的回传值皆设为False；</span><br><span class="line">- -fls&lt;列表文件&gt;：此参数的效果和指定“-ls”参数类似，但会把结果保存为指定的列表文件；</span><br><span class="line">- -follow：排除符号连接；</span><br><span class="line">- -fprint&lt;列表文件&gt;：此参数的效果和指定“-print”参数类似，但会把结果保存成指定的列表文件；</span><br><span class="line">- -fprint0&lt;列表文件&gt;：此参数的效果和指定“-print0”参数类似，但会把结果保存成指定的列表文件；</span><br><span class="line">- -fprintf&lt;列表文件&gt;&lt;输出格式&gt;：此参数的效果和指定“-printf”参数类似，但会把结果保存成指定的列表文件；</span><br><span class="line">- -fstype&lt;文件系统类型&gt;：只寻找该文件系统类型下的文件或目录；</span><br><span class="line">- -gid&lt;群组识别码&gt;：查找符合指定之群组识别码的文件或目录；</span><br><span class="line">- -group&lt;群组名称&gt;：查找符合指定之群组名称的文件或目录；</span><br><span class="line">- -help或——help：在线帮助；</span><br><span class="line">- -ilname&lt;范本样式&gt;：此参数的效果和指定“-lname”参数类似，但忽略字符大小写的差别；</span><br><span class="line">- -iname&lt;范本样式&gt;：此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别；</span><br><span class="line">- -inum&lt;inode编号&gt;：查找符合指定的inode编号的文件或目录；</span><br><span class="line">- -ipath&lt;范本样式&gt;：此参数的效果和指定“-path”参数类似，但忽略字符大小写的差别；</span><br><span class="line">- -iregex&lt;范本样式&gt;：此参数的效果和指定“-regexe”参数类似，但忽略字符大小写的差别；</span><br><span class="line">- -links&lt;连接数目&gt;：查找符合指定的硬连接数目的文件或目录；</span><br><span class="line">- -iname&lt;范本样式&gt;：指定字符串作为寻找符号连接的范本样式；</span><br><span class="line">- -ls：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出；</span><br><span class="line">- -maxdepth&lt;目录层级&gt;：设置最大目录层级；</span><br><span class="line">- -mindepth&lt;目录层级&gt;：设置最小目录层级；</span><br><span class="line">- -mmin&lt;分钟&gt;：查找在指定时间曾被更改过的文件或目录，单位以分钟计算；</span><br><span class="line">- -mount：此参数的效果和指定“-xdev”相同；</span><br><span class="line">- -mtime&lt;24小时数&gt;：查找在指定时间曾被更改过的文件或目录，单位以24小时计算；</span><br><span class="line">- -name&lt;范本样式&gt;：指定字符串作为寻找文件或目录的范本样式；</span><br><span class="line">- -newer&lt;参考文件或目录&gt;：查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；</span><br><span class="line">- -nogroup：找出不属于本地主机群组识别码的文件或目录；</span><br><span class="line">- -noleaf：不去考虑目录至少需拥有两个硬连接存在；</span><br><span class="line">- -nouser：找出不属于本地主机用户识别码的文件或目录；</span><br><span class="line">- -ok&lt;执行指令&gt;：此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令；</span><br><span class="line">- -path&lt;范本样式&gt;：指定字符串作为寻找目录的范本样式；</span><br><span class="line">- -perm&lt;权限数值&gt;：查找符合指定的权限数值的文件或目录；</span><br><span class="line">- -print：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串；</span><br><span class="line">- -print0：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；</span><br><span class="line">- -printf&lt;输出格式&gt;：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；</span><br><span class="line">- -prune：不寻找字符串作为寻找文件或目录的范本样式;</span><br><span class="line">- -regex&lt;范本样式&gt;：指定字符串作为寻找文件或目录的范本样式；</span><br><span class="line">- -size&lt;文件大小&gt;：查找符合指定的文件大小的文件；</span><br><span class="line">- -true：将find指令的回传值皆设为True；</span><br><span class="line">- -typ&lt;文件类型&gt;：只寻找符合指定的文件类型的文件；</span><br><span class="line">- -uid&lt;用户识别码&gt;：查找符合指定的用户识别码的文件或目录；</span><br><span class="line">- -used&lt;日数&gt;：查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算；</span><br><span class="line">- -user&lt;拥有者名称&gt;：查找符和指定的拥有者名称的文件或目录；</span><br><span class="line">- -version或——version：显示版本信息；</span><br><span class="line">- -xdev：将范围局限在先行的文件系统中；</span><br><span class="line">- -xtype&lt;文件类型&gt;：此参数的效果和指定“-type”参数类似，差别在于它针对符号连接检查。</span><br><span class="line">动作参数：</span><br></pre></td></tr></table></figure>
<h2 id="实用命令"><a href="#实用命令" class="headerlink" title="实用命令"></a>实用命令</h2><p>按照查找条件的不同，可以将 44 个查找命令示例分为五个部分。</p>
<ul>
<li><a href="#第一部分：根据名称查找文件"><em>第一部分：根据名称查找文件</em></a></li>
<li><a href="#第二部分：根据权限查找文件"><em>第二部分：根据权限查找文件</em></a></li>
<li><a href="#第三部分：根据所有者和组查找文件"><em>第三部分：根据所有者和组查找文件</em></a></li>
<li><a href="#第四部分：根据日期和时间查找"><em>第四部分：根据日期和时间查找</em></a></li>
<li><a href="#第五部分：根据大小查找文件和目录"><em>第五部分：根据大小查找文件和目录</em></a></li>
<li><a href="#第六部分：根据文件内容或路径查找"><em>第六部分：根据文件内容或路径查找</em></a></li>
<li><a href="#第七部分：借助exec或ok选项来执行shell命令"><em>第七部分：借助exec或ok选项来执行shell命令</em></a></li>
</ul>
<h2 id="第一部分：根据name或type查找文件"><a href="#第一部分：根据name或type查找文件" class="headerlink" title="第一部分：根据name或type查找文件"></a>第一部分：根据name或type查找文件</h2><p><strong>实例：1. 列出当前目录及子目录下所有文件和文件夹</strong><br>命令：<code>find . 等同于 find . -name &quot;*&quot;</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-all.png" alt=""></p>
<p><strong>实例：2. 指定目录下使用名称查找文件</strong><br>描述：在当前目录下查找名字（name）为find.txt的文件。<br>命令：<code>find . -name find.txt</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-name.png" alt=""></p>
<p><strong>实例：3. 使用名称查找文件并忽略大小写</strong><br>描述：在当前目录找到名称为find.txt的文件，忽略大小写(iname)。<br>命令：<code>find . -iname find.txt</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-iname.png" alt=""></p>
<p><strong>实例：4. 根据文件类型查找</strong></p>
<p>形式：find . -type 类型参数</p>
<p>类型参数列表：</p>
<ul>
<li>f：普通文件</li>
<li>l：符号连接</li>
<li>d：目录</li>
<li>c：字符设备</li>
<li>b：块设备</li>
<li>s：套接字</li>
<li>p: Fifo</li>
</ul>
<p>描述：在指定目录中找到名称为find（name find）的文件（type f）。<br>命令：<code>find / -type f -name find</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-type-f.png" alt=""></p>
<p>描述：在指定目录中找到名称为findd（name findd）的目录（type d）。<br>命令：<code>find / -type d -name findd</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-type-d.png" alt=""></p>
<p><strong>实例：5. 根据目录深度搜索</strong></p>
<p>描述：从文件系统的根目录开始，查找一个名为xyz.txt的文件，find将首先匹配所有的文件然后再进入子目录中查找。<br>命令：<code>find / -depth -name &quot;xyz.txt&quot;</code><br>输出：<br><img src="http://p9xqnn501.bkt.clouddn.com/find/find-depth.png" alt=""></p>
<p>描述：搜索出深度距离当前目录最多3个子目录的所有文件。<br>命令：<code>find /home/nijun -maxdepth 3 -type f</code><br>输出：<br><img src="http://p9xqnn501.bkt.clouddn.com/find/find-maxdepth.png" alt=""></p>
<p>描述：搜索出深度距离当前目录至少2个子目录的所有文件。<br>命令：<code>find /home/nijun -mindepth 2 -type f</code><br>输出：<br><img src="http://p9xqnn501.bkt.clouddn.com/find/find-mindepth.png" alt=""></p>
<p><strong>实例：5. 使用通配符查找文件</strong><br>描述：在指定目录中找到所有以.txt或(-o).mp3结尾的文件。<br>命令：<code>find . -type f -name &quot;*.txt&quot; -o -name &quot;*.mp3&quot;</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-name-or.png" alt=""></p>
<p>描述：在当前目录查找文件名以两个小写字母开头，跟着是两个数字，最后是*.txt的文件。-print选项会输出到标准输出中。<br>命令：<code>find . -name &quot;[a-z][a-z][0-9][0-9].txt&quot; -print</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-name-wildcard.png" alt=""></p>
<h2 id="第二部分：根据权限查找文件"><a href="#第二部分：根据权限查找文件" class="headerlink" title="第二部分：根据权限查找文件"></a>第二部分：根据权限查找文件</h2><p><strong>实例：6. 查找符合指定的权限数值的文件或目录</strong><br>描述：查找权限为777的文件。-print将文件或目录的名称列出到标准输出，格式为每列一个名称。<br>命令：<code>find . -type f -perm 777 -print</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-perm.png" alt=""></p>
<p><strong>实例：7. 查找不符合指定的权限数值的文件或目录</strong><br>描述：查找权限不为777的文件。<br>命令：<code>find . -type f ! -perm 777</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-!-perm.png" alt=""></p>
<p><strong>实例：8. 查找所有权限为644的SGID文件</strong><br>描述：在指定目录中找到名称为find的文件。<br>命令：<code>find . -perm 2644</code></p>
<p><strong>实例：9. 查找所有权限为551的Stickt Bit文件</strong><br>命令：<code>find / -perm 1511</code></p>
<p><strong>实例：10. 找到所有SUID文件</strong><br>命令：<code>find / -perm /u=s</code></p>
<p><strong>实例：11. 找到所有SGID文件</strong><br>命令：<code>find / -perm /g=s</code></p>
<p><strong>实例：12. 查找所有只读文件</strong><br>命令：<code>find . -perm /u=r</code></p>
<p><strong>实例：13. 查找所有可执行文件</strong><br>命令：<code>find . -perm /a=x</code></p>
<p><strong>实例：13. 查找对所有人可读的文件</strong><br>描述：在主目录中查找对所有人可读的文件。<br>命令：<code>find ~ -perm -o=r</code></p>
<p><strong>实例：14. 查找所有权限为777的文件，将其改为644</strong><br>命令：<code>find / -type f -perm 0777 -print -exec chmod 644{} \;</code></p>
<p><strong>实例：15. 查找所有权限为777的目录，将其改为755</strong><br>命令：<code>find / -type d -perm 777 -print -exec chmod 755{} \;</code></p>
<p><strong>实例：16. 查找并删除单个文件</strong><br>命令：<code>find . -type f -name &quot;test.log&quot; -exec rm -f {} \;</code></p>
<p><strong>实例：17. 查找并删除多个文件</strong><br>命令：<code>find . -type f -name &quot;*.txt&quot; -exec rm -f {} \;</code></p>
<p><strong>实例：18. 查找所有空文件</strong><br>命令：<code>find . -type f -empty</code></p>
<p><strong>实例：19. 查找所有空目录</strong><br>命令：<code>find . -type d -empty</code></p>
<p><strong>实例：20. 查找所有隐藏文件</strong><br>描述：在当前目录下查找所有隐藏文件（dotfile）。<br>命令：<code>find . -type f -name &quot;.*&quot;</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-dotfile.png" alt=""></p>
<p><strong>实例：20. 忽略某个目录</strong><br>描述：-prune选项指出需要忽略的目录，如果使用了-depth选项，那么-prune选项会被find命令忽略。<br>命令：<code>find . -name &quot;best&quot; -prune -o -print</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-prune.png" alt=""></p>
<h2 id="第三部分：根据所有者和组查找文件"><a href="#第三部分：根据所有者和组查找文件" class="headerlink" title="第三部分：根据所有者和组查找文件"></a>第三部分：根据所有者和组查找文件</h2><p><strong>实例：21. 查找基于用户的单个文件</strong><br>描述：查找文件属主为root的find.txt文件。-user指定文件拥有者的名字，也可以是UID。<br>命令：<code>find . -user root -name find.txt</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-user-name.png" alt=""></p>
<p><strong>实例：22. 查找所有用户文件</strong><br>命令：<code>find . -user root</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-user.png" alt=""></p>
<p><strong>实例：22. 查找没有有效账户的文件</strong><br>描述：-nouser选项查找那些属主在/etc/passwd文件中没有有效账户的文件。<br>命令：<code>find /home -nouser -print</code></p>
<p><strong>实例：23. 查找基于组的文件</strong><br>命令：<code>find . -group root</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-group.png" alt=""></p>
<p><strong>实例：22. 查找没有有效用户组的文件</strong><br>描述：-nogroup选项查找没有有效所属用户组的所有文件。<br>命令：<code>find / -nogroup -print</code> </p>
<p><strong>实例：24. 查找用户特定的文件</strong><br>命令：<code>find . -user root -iname &quot;*.txt&quot;</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-user-wildcard.png" alt=""></p>
<h2 id="第四部分：根据日期和时间查找"><a href="#第四部分：根据日期和时间查找" class="headerlink" title="第四部分：根据日期和时间查找"></a>第四部分：根据日期和时间查找</h2><p>形式：<code>find . -type f 时间戳</code></p>
<p>UNIX/Linux文件系统每个文件都有三种时间戳：</p>
<ul>
<li>访问时间 （-atime/天，-amin/分钟）：用户最近一次访问时间。</li>
<li>修改时间 （-mtime/天，-mmin/分钟）：文件最后一次修改时间。</li>
<li>变化时间 （-ctime/天，-cmin/分钟）：文件数据元（例如权限等）最后一次修改时间。</li>
</ul>
<p>除非你确切地知道你想要的时间，否则可能需要在 + （大于）或 - （小于）的后面加上数字。</p>
<p>/home/nijun/images目录中文件:<br><img src="http://p9xqnn501.bkt.clouddn.com/find/find-ls.png" alt=""></p>
<p><strong>实例：25. 查找3天以前被修改过的所有文件</strong><br>命令：<code>find . -mtime +3</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-mtime-after.png" alt=""></p>
<p><strong>实例：26. 查找5天以内被访问过的所有文件</strong><br>命令：<code>find . -atime -5</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-atime-before.png" alt=""></p>
<p><strong>实例：26. 查找恰好4天前访问过的文件</strong><br>命令：<code>find . -atime 4</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-atime.png" alt=""></p>
<p><strong>实例：27. 查找2-7天前访问过的文件</strong><br>描述：在当前目录中查找两天以前，七天以内的文件。<br>命令：<code>find . -mtime +2 -mtime -7</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-mtime-between.png" alt=""></p>
<p><strong>实例：28. 查找在1小时之内改变过（Changed）的文件或目录</strong><br>描述：在当前目录查找在1小时之内改变过的文件或目录，mmin和amin同理。<br>命令：<code>find . -cmin -60</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-c.png" alt=""></p>
<p><strong>实例：30. 查找比某个文件新或旧的文件</strong><br>一般形式：newest_file_name ! oldest_file_name<br>描述：查找更改时间比文件brooke-lark-275181.jpg新但比文件abc.txt旧的所有文件。<br>命令：<code>find . -type f -newer brooke-lark-275181.jpg ! -newer abc.txt</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-newer.png" alt=""></p>
<p><strong>实例：30. 新建指定时间戳文件查找时间范围内的文件</strong><br>描述：使用touch -t命令新建一个自定义时间戳（6月6日8点30分）的文件，用来满足时间范围查找的要求。然后查找比这个文件更新的文件或目录。<br>命令：<code>touch -t 06060830 dstamp</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-touch.png" alt=""></p>
<p>命令：<code>find . -newer det/dstamp  -print</code><br>输出：<br><img src="http://p9xqnn501.bkt.clouddn.com/find/find-newfile-newer.png" alt=""></p>
<p><strong>实例：30. 筛选出上周拍的照片</strong><br>描述：在/home/nijun目录下，忽略大小写地查找以.jpeg和.jpg为后缀的，修改时间在七天以内的所有文件。<br>命令：<code>find /home/nijun -iname &#39;*.jpeg&#39; -o -iname &#39;*.jpg&#39; -type f -mtime -7</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-images.png" alt=""></p>
<h2 id="第五部分：根据大小查找文件和目录"><a href="#第五部分：根据大小查找文件和目录" class="headerlink" title="第五部分：根据大小查找文件和目录"></a>第五部分：根据大小查找文件和目录</h2><p>形式：<code>find . -type f -size 文件大小单元</code></p>
<p>文件大小单元：</p>
<ul>
<li>b —— 块（512字节）</li>
<li>c —— 字节</li>
<li>w —— 字（2字节）</li>
<li>k —— 千字节</li>
<li>M —— 兆字节</li>
<li>G —— 吉字节</li>
</ul>
<p><strong>实例：31. 查找文件大小恰好等于31MB的所有文件</strong><br>描述：在当前目录下查找文件大小恰好等于31MB的所有文件。<br>命令：<code>find . -size 31M</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-size.png" alt=""></p>
<p><strong>实例：31. 查找文件大小小于10MB的文件</strong><br>描述：在当前目录下查找文件大小小于10MB的所有文件。<br>命令：<code>find . -size 10M</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-size-smaller.png" alt=""></p>
<p><strong>实例：31. 查找文件大小大于5MB的文件</strong><br>描述：在当前目录下查找文件大小大于5MB的所有文件。<br>命令：<code>find . -size +5M</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-size-bigger.png" alt=""></p>
<p><strong>实例：32. 查找所有大小在5MB-10MB之间的文件</strong><br>描述：在当前目录下查找文件大小在5MB到10MB的所有文件。<br>命令：<code>find . -size +5M -size -10M</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-size-between.png" alt=""></p>
<p><strong>实例：33. 查找并删除巨大的（假设大于1G）文件</strong><br>描述：-delete选项可以代替rm命令删除查找到的文件。<br>命令：<code>find . -size +1G -exec rm -rf {} \;</code><br>或者：<code>find . -size +1G -delete</code></p>
<p><strong>实例：34. 查找指定文件并删除</strong><br>描述：查找以.mp3为后缀，文件大于10M（-size +10M）的所有文件（-type f），并执行（-exec）删除命令删除之。<br>命令：<code>find . -type f -name *.mp3 -size +10M -exec rm {} \;</code></p>
<h2 id="第六部分：根据文件内容或路径查找"><a href="#第六部分：根据文件内容或路径查找" class="headerlink" title="第六部分：根据文件内容或路径查找"></a>第六部分：根据文件内容或路径查找</h2><p><strong>实例：35. 根据文件内容查找</strong><br>描述：查找当前目录下的所有文件中，内容含有hello的所有行。<br>命令：<code>find . -type f -name &quot;*&quot; | xargs grep &quot;hello&quot;</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-type-f-xargs-grep.png" alt=""></p>
<p><strong>实例：36. 匹配文件路径或者文件</strong><br>描述：查找/usr目录下所有路径中带有local字样的文件或目录。<br>命令：<code>find /usr/ -path &quot;*local*&quot;</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-path.png" alt=""></p>
<p><strong>实例：37. 基于正则表达式匹配文件路径</strong><br>描述：用-regex查找以.txt或.mp3结尾的文件。-iregex则是忽略大小写。<br>命令：<code>find . -regex &quot;.*\(\.txt\|\.mp3\)$&quot;</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-regex.png" alt=""></p>
<p><strong>实例：38. 使用mount选项</strong><br>描述：在当前的文件系统中查找文件（不进入其他文件系统）查找以.txt结尾的文件。<br>命令：<code>find . -mount -name &quot;*.txt&quot;  -print</code><br>输出：</p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-mount.png" alt=""></p>
<h2 id="第七部分：借助exec或ok选项来执行shell命令"><a href="#第七部分：借助exec或ok选项来执行shell命令" class="headerlink" title="第七部分：借助exec或ok选项来执行shell命令"></a>第七部分：借助exec或ok选项来执行shell命令</h2><p><strong>实例：38. 与chown命令结合使用</strong><br>描述：找出当前目录下所有root的文件，并把所有权更改为用户jack。 {} 用于与 -exec 选项结合使用来匹配所有文件，然后会被替换为相应的文件名。<br>命令：<code>find . -type f -user root -exec chown jack {} \;</code></p>
<p><strong>实例：39. 与rm命令结合使用</strong><br>描述：找出当前目录下最近一天内修改的所有文件并删除它们。-ok 和 -exec 行为一样，不过它会给出提示，是否执行相应的操作。按y键删除文件，按n键不删除。<br>命令：<code>find . -mtime -1 -ok rm {} \;</code></p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-ok-rm.png" alt=""></p>
<p><strong>实例：40. 与cat命令结合使用</strong><br>描述：查找当前目录下所有.txt文件并把他们拼接起来写入到all.txt文件中。<br>命令：<code>find . -type f -name &quot;*.txt&quot; -exec cat {} \; &gt; all.txt</code></p>
<p><strong>实例：41. 与cp结合使用</strong><br>描述：查找当前目录下30天以前并且以.log结尾的文件，将它们拷贝到./old目录中。<br>命令：<code>find . -type f -mtime +30 -name &quot;*.log&quot; -exec cp {} old \;</code></p>
<p><strong>实例：41. 与grep结合使用</strong><br>描述：查找/etc目录下名字带有passwd的文件中，含有nijun字样的内容。<br>命令：<code>find /etc -name &quot;passwd*&quot; -exec grep &quot;nijun&quot; {} \;</code></p>
<p><img src="http://p9xqnn501.bkt.clouddn.com/find/find-grep.png" alt=""></p>
<p><strong>实例：42. 与printf结合使用</strong><br>描述：找出当前目录下所有.txt文件并以“File:文件名”的形式打印出来。<br>命令：<code>find . -type f -name &quot;*.txt&quot; -exec printf &quot;File: %s\n&quot; {} \;</code></p>
<p><strong>实例：43. 执行多条命令</strong><br>描述：因为单行命令中-exec参数中无法使用多个命令，以下方法可以实现在-exec之后接受多条命令。<br>命令：<code>-exec ./text.sh {} \;</code></p>
<p><strong>实例：44. 搜索但跳出指定的目录</strong><br>描述：查找当前目录或者子目录下所有.txt文件，但是跳过子目录output。<br>命令：<code>find . -path &quot;./output&quot; -prune -o -name &quot;*.txt&quot; -print;</code></p>

      
    </div>

    
      
      

  <div class="post-copyright">
    <h3> 文档信息 </h3>
    <p class="copyright-item">
      <span>许可协议: </span>
      
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
    <p class="copyright-item">
      <span>原文作者: </span>
      <a href="http://www.oxysun.cn">荒于嬉</a>
    </p>
    <!-- <p class="copyright-item">
      <span>原文链接: </span>
      <a href="http://www.oxysun.cn/linux/daily-command-find.html">http://www.oxysun.cn/linux/daily-command-find.html</a>
    </p> -->
    <p class="copyright-item">
      <span>发表日期: </span>
      <a href=""> 2018年06月08日</a>
    </p>
  </div>



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags"> 分类：
            
              <a href="/tags/Linux/">Linux</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/linux/daily-command-xargs.html">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Linux xargs命令用法详解</span>
        <span class="prev-text nav-mobile">上一篇</span>
        ：上一篇
      </a>
    
    
      <a class="next" href="/linux/daily-command-netstat.html">
        下一篇：
        <span class="next-text nav-default">Linux netstat命令用法详解</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      
  
  

  


      
      <footer id="footer" class="footer">

<!--
  <div class="social-links">
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>
 -->

<div class="copyright">
  <!--
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
    
    2018

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">荒于嬉</span>
  </span>  -->
  <script src="https://s13.cnzz.com/z_stat.php?id=1273963895&web_id=1273963895" language="JavaScript"></script>
</div>



      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  

  



    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


	<script>
	  var _czc = _czc || [];
	  _czc.push(["_setAccount","1273963895"]);
	  var _a = $('a[title="站长统计"]')
	  _a.css('display','none');
	</script>
    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

    
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </body>
</html>
